(()=>{"use strict";class e{constructor(){this.element=document.createElement("header"),this.element.id="header",this.element.classList.add("header"),this.render()}render(){console.log("render");const e=document.getElementById("app");e&&e.insertAdjacentHTML("afterbegin",'\n      <ul class="header__navigation">\n        <li>\n          <a href="/">Home page</a>\n          <a href="/shop">Shop page</a>\n          <a href="/detail">Detail page</a>\n        </li>\n      </ul>\n    ')}}function t(e,t){return function(n){return class extends n{constructor(...n){super(...n),this.render=function(){const n=document.querySelector(e);n&&(n.innerHTML=t)}}}}}let n=class{constructor(){}render(){console.log("Rending Detailpage component")}};n=function(e,t,n,r){var o,c=arguments.length,a=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(c<3?o(a):c>3?o(t,n,a):o(t,n))||a);return c>3&&a&&Object.defineProperty(t,n,a),a}([t("#main","HELLO WORLD FROM DETAIL")],n);let r=class{constructor(){}render(){console.log("Rending Homepage component")}};r=function(e,t,n,r){var o,c=arguments.length,a=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(c<3?o(a):c>3?o(t,n,a):o(t,n))||a);return c>3&&a&&Object.defineProperty(t,n,a),a}([t("#main","HELLO WORLD FROM HOME PAGE")],r);class o{constructor(){this.render()}render(){console.log("Rending Shoppage component")}}class c{constructor(){this.routes=[]}get getAllRoutes(){return this.routes}addRoute(e,t){this.routes.push({path:e,component:t})}navigate(e){const t=this.routes.find((t=>t.path===e));t?(new t.component).render():console.error("Route not found")}}class a{constructor(){this.createBrowserRouter(),new e,this.renderContent(),this.configure(),window.onpopstate=()=>this.renderContent()}createBrowserRouter(){const e=new c;e.addRoute("/",r),e.addRoute("/shop",o),e.addRoute("/detail",n),console.log(e.getAllRoutes)}renderContent(){switch(new URL(location.href).pathname){case"/":(new r).render();break;case"/shop":(new o).render();break;case"/detail":(new n).render();break;default:console.error("Route not found")}}navigateHandler(e){e.preventDefault();const t=e.target;if("A"===t.tagName){const e=t.getAttribute("href");history.pushState(null,"",e),this.renderContent()}}configure(){const e=document.querySelector(".header__navigation");e&&e.addEventListener("click",this.navigateHandler)}}(function(e,t,n,r){var o,c=arguments.length,a=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(c<3?o(a):c>3?o(t,n,a):o(t,n))||a);c>3&&a&&Object.defineProperty(t,n,a)})([function(e,t,n){const r=n.value;return{configurable:!0,get(){return r.bind(this)}}}],a.prototype,"navigateHandler",null),new a})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YWNrLWFzbS8uL3NyYy9jb21wb25lbnRzL2xheW91dC9IZWFkZXIudHMiLCJ3ZWJwYWNrOi8vdHMtd2VicGFjay1hc20vLi9zcmMvZGVjb3JhdG9ycy9jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vdHMtd2VicGFjay1hc20vLi9zcmMvcGFnZXMvc2l0ZS9EZXRhaWwudHMiLCJ3ZWJwYWNrOi8vdHMtd2VicGFjay1hc20vLi9zcmMvcGFnZXMvc2l0ZS9Ib21lcGFnZS50cyIsIndlYnBhY2s6Ly90cy13ZWJwYWNrLWFzbS8uL3NyYy9wYWdlcy9zaXRlL1Nob3AudHMiLCJ3ZWJwYWNrOi8vdHMtd2VicGFjay1hc20vLi9zcmMvcm91dGVyL3JvdXRlci50cyIsIndlYnBhY2s6Ly90cy13ZWJwYWNrLWFzbS8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vdHMtd2VicGFjay1hc20vLi9zcmMvZGVjb3JhdG9ycy9hdXRvYmluZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBlbnVtIEhlYWRlclR5cGUgeyBXYXJyaW9yLCBNYWdlLCBIZWFsZXIgfTtcclxuXHJcbi8vIGltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSBcIi4uLy4uL2RlY29yYXRvcnMvYXV0b2JpbmRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlYWRlciB7XHJcblxyXG4gIHByaXZhdGUgZWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gIFxyXG4gICkge1xyXG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaGVhZGVyJyk7XHJcbiAgICB0aGlzLmVsZW1lbnQuaWQgPSAnaGVhZGVyJztcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoZWFkZXInKTtcclxuXHJcbiAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgXHJcbiAgICBcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVuZGVyKCkgOiB2b2lkIHtcclxuICAgIGNvbnNvbGUubG9nKFwicmVuZGVyXCIpO1xyXG4gICAgY29uc3QgYXBwRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJykhIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgY29uc3QgaGVhZGVySHRtbCA9IGBcclxuICAgICAgPHVsIGNsYXNzPVwiaGVhZGVyX19uYXZpZ2F0aW9uXCI+XHJcbiAgICAgICAgPGxpPlxyXG4gICAgICAgICAgPGEgaHJlZj1cIi9cIj5Ib21lIHBhZ2U8L2E+XHJcbiAgICAgICAgICA8YSBocmVmPVwiL3Nob3BcIj5TaG9wIHBhZ2U8L2E+XHJcbiAgICAgICAgICA8YSBocmVmPVwiL2RldGFpbFwiPkRldGFpbCBwYWdlPC9hPlxyXG4gICAgICAgIDwvbGk+XHJcbiAgICAgIDwvdWw+XHJcbiAgICBgXHJcbiAgICBpZihhcHBFbCkge1xyXG4gICAgICBhcHBFbC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLGhlYWRlckh0bWwpO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG5cclxuXHJcbn0iLCJcclxudHlwZSBDb25zdHJ1Y3RvcjxUPiA9IG5ldyAoLi4uYXJnczogYW55W10pID0+IFQ7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBvbmVudCB7XHJcbiAgcmVuZGVyKCk6IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDdXN0b21Db21wb25lbnQoc2VsZWN0b3I6IHN0cmluZywgdGVtcGxhdGU6IHN0cmluZykge1xyXG4gIHJldHVybiBmdW5jdGlvbiA8VCBleHRlbmRzIENvbnN0cnVjdG9yPENvbXBvbmVudD4+KGNvbnN0cnVjdG9yOiBUKSB7XHJcbiAgICByZXR1cm4gY2xhc3MgZXh0ZW5kcyBjb25zdHJ1Y3RvciB7XHJcbiAgICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3M6IGFueVtdKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJncyk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBzZWxlY3RvclxyXG4gICAgICAgIC8vIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAvLyBpZihzZWxlY3Rvci5zdGFydHNXaXRoKCcjJykpIHtcclxuICAgICAgICAvLyAgIGVsZW1lbnQuaWQgPSBzZWxlY3Rvci5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgLy8gfWVsc2UgaWYoc2VsZWN0b3Iuc3RhcnRzV2l0aCgnLicpKSB7XHJcbiAgICAgICAgLy8gICBlbGVtZW50LmNsYXNzTmFtZSA9IHNlbGVjdG9yLnN1YnN0cmluZygxKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gLy8gU2V0IHRoZSBpbm5lckhUTUwgb2YgdGhlIGVsZW1lbnQgdG8gdGhlIHByb3ZpZGVkIHRlbXBsYXRlXHJcbiAgICAgICAgLy8gZWxlbWVudC5pbm5lckhUTUwgPSB0ZW1wbGF0ZTtcclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coZWxlbWVudCk7XHJcblxyXG4gICAgICAgIC8vIFJlbmRlciB0aGUgY29tcG9uZW50IHdoZW4gaXQncyBpbnN0YW50aWF0ZWRcclxuICAgICAgICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuXHJcbiAgICAgICAgICBpZiAodGFyZ2V0RWxlbWVudCkge1xyXG4gICAgICAgICAgICB0YXJnZXRFbGVtZW50LmlubmVySFRNTCA9IHRlbXBsYXRlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfTtcclxufVxyXG4iLCIvLyBpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9iYXNlLWNvbXBvbmVudFwiO1xyXG5cclxuaW1wb3J0IHsgQ29tcG9uZW50LCBDdXN0b21Db21wb25lbnQgfSBmcm9tIFwiLi4vLi4vZGVjb3JhdG9ycy9jb21wb25lbnRcIjtcclxuXHJcblxyXG5jb25zdCB0ZW1wbGF0ZUhUTUwgPSBgSEVMTE8gV09STEQgRlJPTSBERVRBSUxgO1xyXG5cclxuQEN1c3RvbUNvbXBvbmVudCgnI21haW4nLCB0ZW1wbGF0ZUhUTUwpXHJcbmV4cG9ydCBjbGFzcyBEZXRhaWwgaW1wbGVtZW50cyBDb21wb25lbnR7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKFxyXG5cclxuICAgICkge1xyXG4gIFxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlJlbmRpbmcgRGV0YWlscGFnZSBjb21wb25lbnRcIik7XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBDdXN0b21Db21wb25lbnQgfSBmcm9tIFwiLi4vLi4vZGVjb3JhdG9ycy9jb21wb25lbnRcIjtcclxuXHJcbmNvbnN0IHRlbXBsYXRlSFRNTCA9IGBIRUxMTyBXT1JMRCBGUk9NIEhPTUUgUEFHRWBcclxuXHJcbkBDdXN0b21Db21wb25lbnQoJyNtYWluJywgdGVtcGxhdGVIVE1MKVxyXG5leHBvcnQgY2xhc3MgSG9tZXBhZ2Uge1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuXHJcbiAgICApIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJSZW5kaW5nIEhvbWVwYWdlIGNvbXBvbmVudFwiKTtcclxuICAgIH1cclxuICAgIFxyXG5cclxufSIsImV4cG9ydCBjbGFzcyBTaG9wIHtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoXHJcblxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJSZW5kaW5nIFNob3BwYWdlIGNvbXBvbmVudFwiKTtcclxuICAgIH1cclxuXHJcblxyXG59IiwiXHJcblxyXG5leHBvcnQgY2xhc3MgUm91dGVyIHtcclxuICAgIHByaXZhdGUgcm91dGVzOiB7cGF0aDogc3RyaW5nOyBjb21wb25lbnQ6IG5ldyAoKSA9PiBhbnl9W107XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5yb3V0ZXMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZ2V0QWxsUm91dGVzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJvdXRlcztcclxuICAgIH1cclxuXHJcbiAgICBhZGRSb3V0ZShwYXRoOiBzdHJpbmcsIGNvbXBvbmVudDogbmV3ICgpID0+IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucm91dGVzLnB1c2goe3BhdGgsIGNvbXBvbmVudH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG5hdmlnYXRlKHBhdGg6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHJvdXRlID0gdGhpcy5yb3V0ZXMuZmluZChyID0+IHIucGF0aCA9PT0gcGF0aCk7XHJcblxyXG4gICAgICAgIGlmKHJvdXRlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IG5ldyByb3V0ZS5jb21wb25lbnQoKTtcclxuICAgICAgICAgICAgY29tcG9uZW50LnJlbmRlcigpO1xyXG5cclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJSb3V0ZSBub3QgZm91bmRcIilcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQgSGVhZGVyIGZyb20gXCIuL2NvbXBvbmVudHMvbGF5b3V0L0hlYWRlclwiO1xyXG5pbXBvcnQgeyBhdXRvYmluZCB9IGZyb20gXCIuL2RlY29yYXRvcnMvYXV0b2JpbmRcIjtcclxuaW1wb3J0IHsgRGV0YWlsIH0gZnJvbSBcIi4vcGFnZXMvc2l0ZS9EZXRhaWxcIjtcclxuaW1wb3J0IHsgSG9tZXBhZ2UgfSBmcm9tIFwiLi9wYWdlcy9zaXRlL0hvbWVwYWdlXCI7XHJcbmltcG9ydCB7IFNob3AgfSBmcm9tIFwiLi9wYWdlcy9zaXRlL1Nob3BcIjtcclxuaW1wb3J0IHsgUm91dGVyIH0gZnJvbSBcIi4vcm91dGVyL3JvdXRlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFwcCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlQnJvd3NlclJvdXRlcigpO1xyXG4gICAgICAgIG5ldyBIZWFkZXIoKTtcclxuICAgICAgICB0aGlzLnJlbmRlckNvbnRlbnQoKTtcclxuICAgICAgICB0aGlzLmNvbmZpZ3VyZSgpO1xyXG4gICAgICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gKCkgPT4gdGhpcy5yZW5kZXJDb250ZW50KCk7XHJcbiAgICAgICAgLy8gaGVhZGVyLmNvbmZpZ3VyZSgpO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGVCcm93c2VyUm91dGVyKCkge1xyXG5cclxuICAgICAgICBjb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKCk7XHJcbiAgICBcclxuICAgICAgICByb3V0ZXIuYWRkUm91dGUoJy8nLCBIb21lcGFnZSk7XHJcbiAgICAgICAgcm91dGVyLmFkZFJvdXRlKCcvc2hvcCcsIFNob3ApO1xyXG4gICAgICAgIHJvdXRlci5hZGRSb3V0ZSgnL2RldGFpbCcsIERldGFpbCk7XHJcbiAgICAgICAgY29uc29sZS5sb2cocm91dGVyLmdldEFsbFJvdXRlcyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVuZGVyQ29udGVudCgpIDogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChsb2NhdGlvbi5ocmVmKTtcclxuICAgICAgICBjb25zdCBwYXRoID0gdXJsLnBhdGhuYW1lO1xyXG4gICAgICAgIC8vIE1haW4gQ29tcG9uZW50IC0gQ2hhbmdlIGNvbnRlbnQgaGVyZVxyXG4gICAgICAgIHN3aXRjaCAocGF0aCkge1xyXG4gICAgICAgICAgICBjYXNlICcvJzpcclxuICAgICAgICAgICAgICAvLyBSZW5kZXIgaG9tZXBhZ2UgY29udGVudFxyXG4gICAgICAgICAgICAgIGNvbnN0IGhvbWVwYWdlID0gbmV3IEhvbWVwYWdlKCk7XHJcbiAgICAgICAgICAgICAgaG9tZXBhZ2UucmVuZGVyKCk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJy9zaG9wJzpcclxuICAgICAgICAgICAgICAvLyBSZW5kZXIgc2hvcCBwYWdlIGNvbnRlbnRcclxuICAgICAgICAgICAgICBjb25zdCBzaG9wID0gbmV3IFNob3AoKTtcclxuICAgICAgICAgICAgICBzaG9wLnJlbmRlcigpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICcvZGV0YWlsJzpcclxuICAgICAgICAgICAgICAvLyBSZW5kZXIgZGV0YWlsIHBhZ2UgY29udGVudFxyXG4gICAgICAgICAgICAgIGNvbnN0IGRldGFpbCA9IG5ldyBEZXRhaWwoKTtcclxuICAgICAgICAgICAgICBkZXRhaWwucmVuZGVyKCk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignUm91dGUgbm90IGZvdW5kJyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZvb3RlciBDb21wb25lbnRcclxuICAgICAgICAvLyBuZXcgRm9vdGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgQGF1dG9iaW5kXHJcbiAgICBwcml2YXRlIG5hdmlnYXRlSGFuZGxlcihldmVudDogRXZlbnQpOiB2b2lkIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIFxyXG4gICAgICBjb25zdCBsaW5rRWwgPSBldmVudC50YXJnZXQhIGFzIEhUTUxMaW5rRWxlbWVudDtcclxuXHJcbiAgICAgIGlmKGxpbmtFbC50YWdOYW1lID09PSAnQScpIHtcclxuXHJcbiAgICAgICAgY29uc3Qgcm91dGUgPSBsaW5rRWwuZ2V0QXR0cmlidXRlKCdocmVmJyk7XHJcbiAgICBcclxuICAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCAnJywgcm91dGUpO1xyXG4gICAgXHJcbiAgICAgICAgLy8gQWRkIGxpc3RlbmVyIGhlcmUhISFcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnJlbmRlckNvbnRlbnQoKVxyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBGdW5jdGlvbiB0byBhdHRhY2ggZXZlbnQgbGlzdGVuZXJcclxuICAgIHByaXZhdGUgY29uZmlndXJlKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGhlYWRlck5hdkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX25hdmlnYXRpb25cIikgISBhcyBIVE1MVUxpc3RFbGVtZW50O1xyXG4gICAgICAgIGlmKGhlYWRlck5hdkVsKSB7XHJcbiAgICAgICAgICBoZWFkZXJOYXZFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMubmF2aWdhdGVIYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgLy8gcHJpdmF0ZSByZW5kZXJIb21lUGFnZSgpIHtcclxuICAgIC8vICAgY29uc3QgaG9tZXBhZ2UgPSBuZXcgSG9tZXBhZ2UoKTtcclxuICAgIC8vICAgIGhvbWVwYWdlLnJlbmRlcigpO1xyXG4gICAgLy8gfVxyXG4gICAgXHJcbiAgICAvLyBwcml2YXRlIHJlbmRlclNob3AoKSB7XHJcbiAgICAvLyAgIGNvbnN0IHNob3AgPSBuZXcgU2hvcCgpO1xyXG4gICAgLy8gICBzaG9wLnJlbmRlcigpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHByaXZhdGUgcmVuZGVyRGV0YWlsKCkge1xyXG4gICAgLy8gICBjb25zdCBkZXRhaWwgPSBuZXcgRGV0YWlsKCk7XHJcbiAgICAvLyAgIGRldGFpbC5yZW5kZXIoKTtcclxuICAgIC8vIH1cclxuXHJcbn1cclxuXHJcbm5ldyBBcHAoKTsiLCIvLyBhdXRvYmluZCBkZWNvcmF0b3JcclxuZXhwb3J0IGZ1bmN0aW9uIGF1dG9iaW5kKF86IGFueSwgXzI6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSB7XHJcbiAgICBjb25zdCBvcmlnaW5hbE1ldGhvZCA9IGRlc2NyaXB0b3IudmFsdWU7XHJcbiAgICBjb25zdCBhZGpEZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IgPSB7XHJcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgZ2V0KCkge1xyXG4gICAgICAgIGNvbnN0IGJvdW5kRm4gPSBvcmlnaW5hbE1ldGhvZC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHJldHVybiBib3VuZEZuO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGFkakRlc2NyaXB0b3I7XHJcbn1cclxuIl0sIm5hbWVzIjpbIkhlYWRlciIsImNvbnN0cnVjdG9yIiwidGhpcyIsImVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsInJlbmRlciIsImNvbnNvbGUiLCJsb2ciLCJhcHBFbCIsImdldEVsZW1lbnRCeUlkIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiQ3VzdG9tQ29tcG9uZW50Iiwic2VsZWN0b3IiLCJ0ZW1wbGF0ZSIsImFyZ3MiLCJzdXBlciIsInRhcmdldEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJIVE1MIiwiRGV0YWlsIiwiSG9tZXBhZ2UiLCJTaG9wIiwiUm91dGVyIiwicm91dGVzIiwiZ2V0QWxsUm91dGVzIiwiYWRkUm91dGUiLCJwYXRoIiwiY29tcG9uZW50IiwicHVzaCIsIm5hdmlnYXRlIiwicm91dGUiLCJmaW5kIiwiciIsImVycm9yIiwiQXBwIiwiY3JlYXRlQnJvd3NlclJvdXRlciIsInJlbmRlckNvbnRlbnQiLCJjb25maWd1cmUiLCJ3aW5kb3ciLCJvbnBvcHN0YXRlIiwicm91dGVyIiwiVVJMIiwibG9jYXRpb24iLCJocmVmIiwicGF0aG5hbWUiLCJuYXZpZ2F0ZUhhbmRsZXIiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwibGlua0VsIiwidGFyZ2V0IiwidGFnTmFtZSIsImdldEF0dHJpYnV0ZSIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJoZWFkZXJOYXZFbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfIiwiXzIiLCJkZXNjcmlwdG9yIiwib3JpZ2luYWxNZXRob2QiLCJ2YWx1ZSIsImNvbmZpZ3VyYWJsZSIsImdldCIsImJpbmQiXSwic291cmNlUm9vdCI6IiJ9